---
title: "hw5_erhs535_erh"
author: "Eliud R. Rivas Hernandez"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  warning = FALSE,
  message = FALSE,
  error = FALSE,
  fig.width = 10,
  fig.height = 8
)
```

# Introduction   

This analysis examines the spatial distribution of homicides in Baltimore, MD using data from the Washington Post's comprehensive investigation of unsolved homicides in major U.S. cities. The analysis uses the `sf` framework for spatial analysis and `tigris` to provide geographic context through census tract boundaries.

## Questions of Interest:
1. How are homicides spatially distributed across Baltimore?  

2. Are there geographic differences between solved and unsolved homicides?    
3. Do different racial groups experience homicides in different geographic areas? 

# Load required packages:

```{r packages}

library(tidyverse)
library(sf)
library(tigris)
library(forcats)
library(viridis)
library(scales)

```

# Data Loading and Preparation

## Read Homicide Data

```{r load-data}

# Read the Washington Post homicide data
homicides <- read_csv("data/homicide-data.csv")

# Display structure
glimpse(homicides)

```
## Filter to Baltimore and Prepare Variables

```{r prepare-baltimore-data}
# Filter to Baltimore, MD
baltimore <- homicides %>%
  filter(city == "Baltimore", state == "MD") %>%
  # Create solved/unsolved variable
  mutate(
    case_status = case_when(
      disposition == "Closed by arrest" ~ "Solved",
      disposition %in% c("Closed without arrest", "Open/No arrest") ~ "Unsolved"
    ),
    # Clean race variable
    victim_race = str_to_title(victim_race),
    victim_race = case_when(
      victim_race == "Unknown" ~ NA_character_,
      TRUE ~ victim_race
    )
  ) %>%
  # Remove cases with missing coordinates or race
  filter(!is.na(lat), !is.na(lon), !is.na(victim_race))

# Display summary
cat("Total homicides in Baltimore:", nrow(baltimore), "\n")
cat("Solved:", sum(baltimore$case_status == "Solved"), "\n")
cat("Unsolved:", sum(baltimore$case_status == "Unsolved"), "\n")
```




